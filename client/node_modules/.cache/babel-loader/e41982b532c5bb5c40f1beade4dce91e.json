{"ast":null,"code":"import _slicedToArray from\"C:/Users/grunge/Desktop/mern-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{register}from'../actions/userAction';import FormContainer from'../components/FormContainer';import{Form,Row,Col,Button}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(_ref){var location=_ref.location,history=_ref.history;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];var redirect=location.search?location.search.split('=')[1]:'/';var dispatch=useDispatch();var userReg=useSelector(function(state){return state.userReg;});var loading=userReg.loading,error=userReg.error,userInfo=userReg.userInfo;useEffect(function(){if(userInfo){history.push(redirect);}},[history,userInfo,redirect]);var handleSubmit=function handleSubmit(e){e.preventDefault();if(password!==confirmPassword){setMessage('password not matched!');}dispatch(register(name,email,password));};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),error&&/*#__PURE__*/_jsx(\"h2\",{children:error}),loading&&/*#__PURE__*/_jsx(\"h2\",{children:\"Loading...\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"name\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"your name\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"confirmpassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Re-enter Password \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"confirm password\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);}}),message&&/*#__PURE__*/_jsx(\"h5\",{children:message})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Register\"})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[\"Already Registered User?\",/*#__PURE__*/_jsx(Link,{to:redirect?\"login?redirect=\".concat(redirect):'/login',children:\"Login\"})]})})]})});};export default Register;","map":{"version":3,"sources":["C:/Users/grunge/Desktop/mern-shop/client/src/pages/Register.jsx"],"names":["React","useState","useEffect","Link","useDispatch","useSelector","register","FormContainer","Form","Row","Col","Button","Register","location","history","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","message","setMessage","redirect","search","split","dispatch","userReg","state","loading","error","userInfo","push","handleSubmit","e","preventDefault","target","value"],"mappings":"+JAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAwBC,SAAxB,KAAwC,OAAxC,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CACA,OAAQC,QAAR,KAAuB,uBAAvB,CACA,MAAOC,CAAAA,aAAP,KAA0B,6BAA1B,CACA,OAAQC,IAAR,CAAcC,GAAd,CAAmBC,GAAnB,CAAwBC,MAAxB,KAAqC,iBAArC,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAyB,IAAvBC,CAAAA,QAAuB,MAAvBA,QAAuB,CAAbC,OAAa,MAAbA,OAAa,CACtC,cAAsBb,QAAQ,CAAC,EAAD,CAA9B,wCAAOc,IAAP,eAAaC,OAAb,eACA,eAAwBf,QAAQ,CAAC,EAAD,CAAhC,yCAAOgB,KAAP,eAAcC,QAAd,eACA,eAA8BjB,QAAQ,CAAC,EAAD,CAAtC,yCAAOkB,QAAP,eAAiBC,WAAjB,eACA,eAA4CnB,QAAQ,CAAC,EAAD,CAApD,yCAAOoB,eAAP,eAAwBC,kBAAxB,eACA,eAA4BrB,QAAQ,CAAC,EAAD,CAApC,0CAAOsB,OAAP,gBAAgBC,UAAhB,gBACA,GAAMC,CAAAA,QAAQ,CAACZ,QAAQ,CAACa,MAAT,CAAiBb,QAAQ,CAACa,MAAT,CAAgBC,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAjB,CAA+C,GAA9D,CACA,GAAMC,CAAAA,QAAQ,CAACxB,WAAW,EAA1B,CACA,GAAMyB,CAAAA,OAAO,CAACxB,WAAW,CAAC,SAAAyB,KAAK,QAAEA,CAAAA,KAAK,CAACD,OAAR,EAAN,CAAzB,CACA,GAAOE,CAAAA,OAAP,CAA+BF,OAA/B,CAAOE,OAAP,CAAeC,KAAf,CAA+BH,OAA/B,CAAeG,KAAf,CAAqBC,QAArB,CAA+BJ,OAA/B,CAAqBI,QAArB,CAEA/B,SAAS,CAAC,UAAI,CACd,GAAG+B,QAAH,CAAY,CAACnB,OAAO,CAACoB,IAAR,CAAaT,QAAb,EAAuB,CACvC,CAFY,CAEX,CAACX,OAAD,CAASmB,QAAT,CAAkBR,QAAlB,CAFW,CAAT,CAIJ,GAAMU,CAAAA,YAAY,CAAE,QAAdA,CAAAA,YAAc,CAACC,CAAD,CAAK,CACrBA,CAAC,CAACC,cAAF,GACA,GAAGlB,QAAQ,GAAGE,eAAd,CAA8B,CAC1BG,UAAU,CAAC,uBAAD,CAAV,CACH,CACDI,QAAQ,CAACtB,QAAQ,CAACS,IAAD,CAAOE,KAAP,CAAcE,QAAd,CAAT,CAAR,CACC,CANL,CAQI,mBACI,kCACA,MAAC,aAAD,yBACI,gCADJ,CAEKa,KAAK,eAAE,oBAAKA,KAAL,EAFZ,CAGKD,OAAO,eAAG,kCAHf,cAII,MAAC,IAAD,EAAM,QAAQ,CAAEI,YAAhB,wBACA,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,MAAtB,wBACQ,KAAC,IAAD,CAAM,KAAN,oBADR,cAEQ,KAAC,IAAD,CAAM,OAAN,EACA,IAAI,CAAC,MADL,CAEA,WAAW,CAAC,WAFZ,CAGA,KAAK,CAAEpB,IAHP,CAIA,QAAQ,CAAE,kBAACqB,CAAD,QAAKpB,CAAAA,OAAO,CAACoB,CAAC,CAACE,MAAF,CAASC,KAAV,CAAZ,EAJV,EAFR,GADA,cAUI,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,OAAtB,wBACI,KAAC,IAAD,CAAM,KAAN,qBADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EACA,IAAI,CAAC,OADL,CAEA,WAAW,CAAC,OAFZ,CAGA,KAAK,CAAEtB,KAHP,CAIA,QAAQ,CAAE,kBAACmB,CAAD,QAAKlB,CAAAA,QAAQ,CAACkB,CAAC,CAACE,MAAF,CAASC,KAAV,CAAb,EAJV,EAFJ,GAVJ,cAmBI,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,UAAtB,wBACI,KAAC,IAAD,CAAM,KAAN,wBADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EACA,IAAI,CAAC,UADL,CAEA,WAAW,CAAC,UAFZ,CAGA,KAAK,CAAEpB,QAHP,CAIA,QAAQ,CAAE,kBAACiB,CAAD,QAAKhB,CAAAA,WAAW,CAACgB,CAAC,CAACE,MAAF,CAASC,KAAV,CAAhB,EAJV,EAFJ,GAnBJ,cA4BI,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,iBAAtB,wBACI,KAAC,IAAD,CAAM,KAAN,iCADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EACA,IAAI,CAAC,UADL,CAEA,WAAW,CAAC,kBAFZ,CAGA,KAAK,CAAElB,eAHP,CAIA,QAAQ,CAAE,kBAACe,CAAD,QAAKd,CAAAA,kBAAkB,CAACc,CAAC,CAACE,MAAF,CAASC,KAAV,CAAvB,EAJV,EAFJ,CAQKhB,OAAO,eAAE,oBAAKA,OAAL,EARd,GA5BJ,cAsCI,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,sBAtCJ,GAJJ,cA4CI,KAAC,GAAD,wBACI,MAAC,GAAD,oDAEA,KAAC,IAAD,EAAM,EAAE,CAAEE,QAAQ,0BAAoBA,QAApB,EAA+B,QAAjD,mBAFA,GADJ,EA5CJ,GADA,EADJ,CAwDH,CA/ED,CAiFA,cAAeb,CAAAA,QAAf","sourcesContent":["import React,{useState, useEffect} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {register} from '../actions/userAction'\r\nimport FormContainer from '../components/FormContainer'\r\nimport {Form, Row, Col, Button} from 'react-bootstrap'\r\n\r\nconst Register = ({location, history}) => {\r\n    const [name, setName]=useState('')\r\n    const [email, setEmail]=useState('')\r\n    const [password, setPassword]=useState('')\r\n    const [confirmPassword, setConfirmPassword]=useState('')\r\n    const [message, setMessage]=useState('')\r\n    const redirect=location.search? location.search.split('=')[1]:'/'\r\n    const dispatch=useDispatch()\r\n    const userReg=useSelector(state=>state.userReg)\r\n    const {loading,error,userInfo}=userReg\r\n\r\n    useEffect(()=>{\r\n    if(userInfo){history.push(redirect)}\r\n},[history,userInfo,redirect])\r\n\r\nconst handleSubmit= (e)=>{\r\n    e.preventDefault()\r\n    if(password!==confirmPassword){\r\n        setMessage('password not matched!')\r\n    }\r\n    dispatch(register(name, email, password))\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n        <FormContainer>\r\n            <h2>Register</h2>\r\n            {error&&<h2>{error}</h2>}\r\n            {loading&& <h2>Loading...</h2>}\r\n            <Form onSubmit={handleSubmit}>\r\n            <Form.Group controlId=\"name\" >\r\n                    <Form.Label>Name </Form.Label>\r\n                    <Form.Control \r\n                    type=\"text\"\r\n                    placeholder=\"your name\"\r\n                    value={name}\r\n                    onChange={(e)=>setName(e.target.value)}\r\n                    />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"email\" >\r\n                    <Form.Label>Email </Form.Label>\r\n                    <Form.Control \r\n                    type=\"email\"\r\n                    placeholder=\"email\"\r\n                    value={email}\r\n                    onChange={(e)=>setEmail(e.target.value)}\r\n                    />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"password\" >\r\n                    <Form.Label>Password </Form.Label>\r\n                    <Form.Control \r\n                    type=\"password\"\r\n                    placeholder=\"password\"\r\n                    value={password}\r\n                    onChange={(e)=>setPassword(e.target.value)}\r\n                    />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"confirmpassword\" >\r\n                    <Form.Label>Re-enter Password </Form.Label>\r\n                    <Form.Control \r\n                    type=\"password\"\r\n                    placeholder=\"confirm password\"\r\n                    value={confirmPassword}\r\n                    onChange={(e)=>setConfirmPassword(e.target.value)}\r\n                    />\r\n                    {message&&<h5>{message}</h5>}\r\n                </Form.Group>\r\n                <Button type=\"submit\">Register</Button>\r\n            </Form>\r\n            <Row>\r\n                <Col>\r\n               Already Registered User?\r\n                <Link to={redirect? `login?redirect=${redirect}`:'/login'}>Login</Link>\r\n                </Col>\r\n            </Row>\r\n        </FormContainer>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n"]},"metadata":{},"sourceType":"module"}