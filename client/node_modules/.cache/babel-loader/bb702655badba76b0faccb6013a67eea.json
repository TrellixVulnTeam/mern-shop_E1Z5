{"ast":null,"code":"import _toConsumableArray from\"C:/Users/grunge/Desktop/mern-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/grunge/Desktop/mern-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{productDetailsAction}from'../actions/productsAction';import{Row,Col,Button,Image,ListGroupItem,Form}from'react-bootstrap';import Ratings from'../components/Ratings';import Loading from'../components/Loading';import Message from'../components/Message';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductDetails=function ProductDetails(_ref){var match=_ref.match,history=_ref.history;var dispatch=useDispatch();var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){dispatch(productDetailsAction(match.params.id));},[match,dispatch]);var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];function handleAddToCart(){history.push(\"/cart/\".concat(match.params.id,\"?qty=\").concat(qty));}return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(Loading,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",message:error}):/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,className:\"mt-3\",children:/*#__PURE__*/_jsx(Image,{style:{width:'75%'},fluid:true,src:product.image})}),/*#__PURE__*/_jsxs(Col,{md:3,children:[/*#__PURE__*/_jsxs(ListGroupItem,{className:\"my-3 text-light\",children:[/*#__PURE__*/_jsx(\"h3\",{children:product.title}),/*#__PURE__*/_jsx(Ratings,{rating:product.rating})]}),/*#__PURE__*/_jsx(ListGroupItem,{className:\"text-light\",children:product.description}),/*#__PURE__*/_jsxs(ListGroupItem,{className:\"text-light\",children:[\"Price: \",product.price,\" $\"]})]}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsxs(ListGroupItem,{className:\"my-5 text-light\",children:[\"Status: \",product.countInStock,\" In Stock\"]}),product.countInStock>0&&/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"QTY\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"select\",value:qty,onChange:function onChange(e){return setQty(Number(e.target.value));},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(num){return/*#__PURE__*/_jsx(\"option\",{style:{color:'black'},value:num+1,children:num+1},num+1);})})]})}),/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsx(Button,{type:\"button\",onClick:handleAddToCart,children:\"Add to Cart\"})})]})]})});};export default ProductDetails;","map":{"version":3,"sources":["C:/Users/grunge/Desktop/mern-shop/client/src/pages/ProductDetails.jsx"],"names":["React","useState","useEffect","useDispatch","useSelector","productDetailsAction","Row","Col","Button","Image","ListGroupItem","Form","Ratings","Loading","Message","ProductDetails","match","history","dispatch","productDetails","state","loading","error","product","params","id","qty","setQty","handleAddToCart","push","width","image","title","rating","description","price","countInStock","e","Number","target","value","Array","keys","map","num","color"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport { productDetailsAction } from '../actions/productsAction'\r\nimport { Row,Col,Button,Image,ListGroupItem, Form } from 'react-bootstrap'\r\nimport Ratings from '../components/Ratings'\r\nimport Loading from '../components/Loading'\r\nimport Message from '../components/Message'\r\n\r\n\r\nconst ProductDetails = ({match,history}) => {\r\n    const dispatch=useDispatch()\r\n    const productDetails=useSelector(state=>state.productDetails)\r\n    const {loading,error,product}=productDetails\r\n    useEffect(()=>{\r\n        dispatch(productDetailsAction(match.params.id))\r\n    },[match,dispatch])\r\n\r\n    const [qty, setQty]=useState(1)\r\n    function handleAddToCart(){\r\n        history.push(`/cart/${match.params.id}?qty=${qty}`)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {loading\r\n            ?(<Loading/>)\r\n            :error ?(<Message variant=\"danger\" message={error}/>)\r\n            :(\r\n                <Row>\r\n                    <Col md={6} className=\"mt-3\">\r\n                        <Image style={{width:'75%'}} fluid src={product.image} />\r\n                    </Col>    \r\n                    <Col  md={3}>\r\n                        <ListGroupItem className=\"my-3 text-light\">\r\n                            <h3>{product.title}</h3>\r\n                            <Ratings rating={product.rating}/>                    \r\n                        </ListGroupItem>\r\n                        <ListGroupItem className=\"text-light\">\r\n                                {product.description}\r\n                        </ListGroupItem>\r\n                        <ListGroupItem className=\"text-light\">Price: {product.price} $\r\n                        </ListGroupItem>\r\n                    </Col>    \r\n                    <Col>\r\n                        <ListGroupItem className=\"my-5 text-light\">Status: {product.countInStock} In Stock</ListGroupItem>\r\n                        \r\n                        {product.countInStock > 0 && (\r\n                            <ListGroupItem>\r\n                                <Row>\r\n                                    <Col>QTY</Col>\r\n                                    <Form.Control\r\n                                    as=\"select\"\r\n                                    value={qty}\r\n                                    onChange={(e)=>setQty(Number(e.target.value))}\r\n                                    >\r\n                                        {[...Array(product.countInStock).keys()].map((num)=>(\r\n                                            <option\r\n                                            style={{color:'black'}} \r\n                                            key={num+1}\r\n                                            value={num+1}\r\n                                            >\r\n                                                {num+1}\r\n                                            </option>\r\n                                        ))}\r\n                                    </Form.Control>\r\n                                </Row>\r\n                            </ListGroupItem>\r\n                        )}\r\n                        <ListGroupItem>\r\n                            <Button type=\"button\" onClick={handleAddToCart}>Add to Cart</Button>\r\n                        </ListGroupItem>\r\n                    </Col>    \r\n                </Row> \r\n            )\r\n            }           \r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductDetails\r\n"]},"metadata":{},"sourceType":"module"}