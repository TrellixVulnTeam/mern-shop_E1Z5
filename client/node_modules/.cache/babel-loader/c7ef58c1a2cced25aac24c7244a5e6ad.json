{"ast":null,"code":"import _slicedToArray from\"C:/Users/grunge/Desktop/mern-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{login}from'../actions/userAction';import FormContainer from'../components/FormContainer';import{Form,Row,Col,Button}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(_ref){var location=_ref.location,history=_ref.history;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var redirect=location.search?location.search.split('=')[1]:'/';var dispatch=useDispatch();var userLog=useSelector(function(state){return state.userLog;});var loading=userLog.loading,error=userLog.error,userInfo=userLog.userInfo;useEffect(function(){if(userInfo){history.push(redirect);}},[history,userInfo,redirect]);var handleSubmit=function handleSubmit(e){e.preventDefault();dispatch(login(email,password));};console.log(password);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign In\"}),error&&/*#__PURE__*/_jsx(\"h2\",{children:error}),loading&&/*#__PURE__*/_jsx(\"h2\",{children:\"Loading...\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Login\"})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[\"New User ?\",/*#__PURE__*/_jsx(Link,{to:redirect?\"register?redirect=\".concat(redirect):'/register',children:\"Register\"})]})})]})});};export default Login;","map":{"version":3,"sources":["C:/Users/grunge/Desktop/mern-shop/client/src/pages/Login.jsx"],"names":["React","useState","useEffect","Link","useDispatch","useSelector","login","FormContainer","Form","Row","Col","Button","Login","location","history","email","setEmail","password","setPassword","redirect","search","split","dispatch","userLog","state","loading","error","userInfo","push","handleSubmit","e","preventDefault","console","log","target","value"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {login} from '../actions/userAction'\r\nimport FormContainer from '../components/FormContainer'\r\nimport {Form, Row, Col, Button} from 'react-bootstrap'\r\n\r\nconst Login = ({location, history}) => {\r\n    const [email, setEmail]=useState('')\r\n    const [password, setPassword]=useState('')\r\n    const redirect=location.search? location.search.split('=')[1]:'/'\r\n    const dispatch=useDispatch()\r\n    const userLog=useSelector(state=>state.userLog)\r\n    const {loading,error,userInfo}=userLog\r\nuseEffect(()=>{\r\n    if(userInfo){history.push(redirect)}\r\n},[history,userInfo,redirect])\r\n\r\nconst handleSubmit= (e)=>{\r\n    e.preventDefault()\r\n    dispatch(login(email, password))\r\n    }\r\n    console.log(password)\r\n    return (\r\n        <div>\r\n        <FormContainer>\r\n            <h2>Sign In</h2>\r\n            {error&&<h2>{error}</h2>}\r\n            {loading&& <h2>Loading...</h2>}\r\n            <Form onSubmit={handleSubmit}>\r\n                <Form.Group controlId=\"email\" >\r\n                    <Form.Label>Email </Form.Label>\r\n                    <Form.Control \r\n                    type=\"email\"\r\n                    placeholder=\"email\"\r\n                    value={email}\r\n                    onChange={(e)=>setEmail(e.target.value)}\r\n                    ></Form.Control>\r\n\r\n                </Form.Group>\r\n                <Form.Group controlId=\"password\" >\r\n                    <Form.Label>Password </Form.Label>\r\n                    <Form.Control \r\n                    type=\"password\"\r\n                    placeholder=\"password\"\r\n                    value={password}\r\n                    onChange={(e)=>setPassword(e.target.value)}\r\n                    ></Form.Control>\r\n                </Form.Group>\r\n                <Button type=\"submit\">Login</Button>\r\n            </Form>\r\n            <Row>\r\n                <Col>\r\n                New User ?\r\n                <Link to={redirect? `register?redirect=${redirect}`:'/register'}>Register</Link>\r\n                </Col>\r\n            </Row>\r\n        </FormContainer>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}